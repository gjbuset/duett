#!/bin/sh
# Duett binary

DU_VERSJON=17.06.3
DU_URL=https://rds.duett.no/rdweb/pages/no-nb/login.aspx
MS_COMMAND="$0"
unset CDPATH

for f in "${1+"$@"}"; do
    MS_COMMAND="$MS_COMMAND \\\\
    \\\"$f\\\""
done

# Procedures

D_Hjelp()
{
    zenity --info --icon-name=duett --title="Duettpålogging for Linux - versjon $DU_VERSJON" --text='<b><span foreground="green" font="16">Hjelp for oppstart av Duett</span></b>\nSkriv <b>duett -a</b> der <b>-a</b> er argumentet\n-v | -versjon		-Skriv ut versjonsnr av Duettpålogging for Linux til terminalvindauget \n-h | -hjelp		-Opnar dette vindauget med denne hjelpeteksta \n-s | -skjerm		-Endring/sett oppløysing for Eksternt skrivebord på Duett-server\n-l | -lokalt 		-Pålogging med Duett som lokalt skjermbilete\n-e | -eksternt		-Pålogging til Eksternt Skrivebord på Duett-server\n-u | -utforsk		-Fil- og skrivarhandsaming på Duett server\n-b | -brukar		-Endre påloggingsinformasjon\n-p | -printer		-Endre val av skrivar som skal bli knytt til Duett\n-n | -nullstill		-Slett påloggingsinformasjon lagra i fila ~/.duett.user\n-r | -rediger-user	-Redigere fila ~/.duett.user\n-o | -oppdater		-Oppdater med ny rdp-fil og sertifikat for pålogging\n-avinstaller		-Avinstaller Duettpålogging for Linux\n\n<b>Tips:\n-Desse kommandoane kan du bruke både når du opprettar ein snareveg,\n eller direkte i terminalvindauget\n-For å opne Terminal, trykk [Ctrl+Alt+T]\n-Om du i terminal skriv delar av kommandoen, kan du fullføre ved å trykke [TAB]\n-Eksternt Skrivebord kan etter oppstart køyrast som vanleg vindauge ved å trykke\n [Ctrl+Alt+Enter]</b>\n\n'$DU_URL  --width=550 --height=10
    exit 1
}
D_Drives()
{
dirx=$(dir /media/)
echo $dirx $dirx |xargs -n1 | sort > /tmp/.duettlit.tmp
sed -i "s/$/,'\/media\//;n" /tmp/.duettlit.tmp
sed -i "s/^/\/' \/drive:/;n" /tmp/.duettlit.tmp
sed -i ':a;N;$!ba;s/\n//g' /tmp/.duettlit.tmp
sed -i 's/^..//' /tmp/.duettlit.tmp
sed -i "s/$/\/'/" /tmp/.duettlit.tmp
lokdrv=$(grep '/drive' /tmp/.duettlit.tmp)
}
D_Eksternt()
{
D_Drives
if ! [ -f ~/.duett.user ];
 then
 notify-send -i duett 'Duettpålogging for Linux' 'Genererer påloggingsdata i fila ~/.duett.user'
  D_Forebu
  D_Skjerm
  D_Eksternt
fi
brukar=$(grep ' /u:' ~/.duett.user)
passord=$(grep ' /p:' ~/.duett.user)
printer=$(grep ' /printer' ~/.duett.user)
sertifikat=' /cert-tofu'
oppl=$(grep ' /smart-sizing:' ~/.duett.user)
if [ ${#oppl} -lt 22 ]; #opplysning eksisterer 
    then
     D_Skjerm
     D_Eksternt
   fi
   echo "OK"
samla=$brukar$passord$printer
if [ ${#samla} -lt 24 ]; #opplysning eksisterer 
    then
    echo "Førebu"
     D_Forebu
     D_Eksternt
   fi
notify-send -i  duett "Duettpålogging for Linux - versjon $DU_VERSJON" 'Koplar til Eksternt skrivebord på Duett-server'
notify-send -i  duett 'Duettpålogging for Linux' 'For å gå ut av fullskjermmodus, trykk Ctrl + Alt + Enter'
 xfreerdp '/usr/share/duettonline/remote.rdp' $sertifikat$brukar$passord /home-drive$lokdrv$printer$oppl
 rm /tmp/.duettlit.tmp
notify-send -i duett 'Duettpålogging for Linux' 'Eksternt skrivebord på Duett-server er no ferdig avslutta'
exit 0
}
D_Skjerm()
{
if ! [ $(grep ' /smart-sizing:' ~/.duett.user) ]; then
echo  ' /smart-sizing:' >> ~/.duett.user
fi
res=$(echo $(xrandr | fgrep '*') | cut -d' ' -f1)
resx=$(echo $res | cut -d'x' -f1)
resy=$(echo $res | cut -d'x' -f2)
resy=$((resy-64))
oldres=$(grep ' /smart-sizing:' ~/.duett.user)
oldres=$(echo $oldres | cut -d':' -f2)
oldresx=$(echo $oldres | cut -d'x' -f1)
if ! [ $oldresx -gt 699 ] ; #opplysning eksisterer 
    then
     oldresx='700'
   fi
oldresy=$(echo $oldres | cut -d'x' -f2)
if ! [ $oldresy -gt 399 ] ; #opplysning eksisterer 
    then
     oldresy='400'
   fi
ansx=$(zenity  --scale --title "Duettpålogging for Linux - versjon $DU_VERSJON" --text "Velg breidde på vindauget til Eksternt skrivebord" --min-value=700 --max-value=$resx --value=$oldresx --step 2);
if [ ${#ansx} -lt 2 ]; #opplysning eksisterer 
    then
ansx=$oldresx
   fi
ansy=$(zenity --scale --text "Velg høgde på vindauget til Eksternt skrivebord" --min-value=400 --max-value=$resy --value=$oldresy --step 2);
if [ ${#ansy} -lt 2 ]; #opplysning eksisterer 
    then
ansy=$oldresy
   fi
nres=" /smart-sizing:"$ansx"x"$ansy
   sed -i "s@$(grep "smart-sizing" ~/.duett.user)@$nres@" ~/.duett.user 
   exit 0
}
D_Fil()
{
D_Drives
if ! [ -f ~/.duett.user ];
 then
 notify-send -i duett 'Duettpålogging for Linux' 'Genererer påloggingsdata i fila ~/.duett.user'
  D_Forebu
  D_Fil
fi
brukar=$(grep ' /u:' ~/.duett.user)
passord=$(grep ' /p:' ~/.duett.user)
printer=$(grep ' /printer' ~/.duett.user)
sertifikat=' /cert-tofu'
samla=$brukar$passord$printer
if [ ${#samla} -lt 24 ]; #opplysning eksisterer 
    then
    echo "førebu"
     D_Forebu
     D_Fil
   fi

notify-send -i duett 'Duettpålogging for Linux' 'Startar filbehandling på Duett-server'
xfreerdp '/usr/share/duettonline/explorer.rdp' $sertifikat$brukar$passord /home-drive$lokdrv$printer
 rm /tmp/.duettlit.tmp
 notify-send -i duett 'Duettpålogging for Linux' 'Filbehandling for Duett er no ferdig avslutta'
exit 0
}
D_Lokalt()
{
D_Drives
if ! [ -f ~/.duett.user ];
 then
 notify-send -i duett 'Duettpålogging for Linux' 'Genererer påloggingsdata i fila ~/.duett.user'
  D_Forebu
  D_Lokalt
fi
brukar=$(grep ' /u:' ~/.duett.user)
passord=$(grep ' /p:' ~/.duett.user)
printer=$(grep ' /printer' ~/.duett.user)
sertifikat=' /cert-tofu'
samla=$brukar$passord$printer
if [ ${#samla} -lt 24 ]; #opplysning eksisterer 
    then
    echo "Førebu"
     D_Forebu
     D_Lokalt
   fi
notify-send -i duett 'Duettpålogging for Linux' 'Startar Duett som lokalt vindauge'
xfreerdp '/usr/share/duettonline/duett.rdp' $sertifikat$brukar$passord /home-drive$lokdrv$printer
 rm /tmp/.duettlit.tmp
 notify-send -i duett 'Duettpålogging for Linux' 'Duett er no ferdig avslutta'
exit 0
}
D_User()
{
D_addbrukar
exit 0
}
D_Print()
{
D_addprinter
exit 0
}
D_EditUser()
{
gedit ~/.duett.user
exit 0
}
D_update()
{
zenity --question  --icon-name=duett --text="Du vil no bli sendt til Duett si nettside for nedlasting av nye .rdp filer.\nDesse filene blir brukt til oppkopling til Duett sin server.\nDer er ei fil for kvar av tilkoplingstypane: \n -Eksternt Skrivebord \n -Duett som lokalt skjermbilete \n -Skrivar og filbehandling på Duett sin server\nEtter innlogging på nettsida, lastar du ned dei tre filene som ligg der.\nEtter å ha lukka nettlesaren, vil du bli spurd om root-passord og evt kor du har lagra filene som du har lasta ned." --ok-label="Gå vidare" --cancel-label="Avbryt" --width=420 --height=10
if [ $? = 0 ] ; then
sensible-browser $DU_URL
zenity --question  --icon-name=duett --text="Har du lasta ned nye filer, og er klar for å erstatte desse?" --ok-label="Gå vidare" --cancel-label="Avbryt"
if [ $? = 0 ] ; then
  if [ ${#utgang} -ge 1 ];
 then
  sudo rm /usr/share/duettonline/*.rdp
 else
  utgang=$(zenity --password --title="Skriv inn root-passord" | sudo -S rm /usr/share/duettonline/*.rdp)
 fi
D_Store
else
notify-send -i  duett 'Duettpålogging for Linux' 'Oppdatering avbrutt av deg'
fi
else
notify-send -i  duett 'Duettpålogging for Linux' 'Oppdatering avbrutt av deg'
fi
exit 0
}
D_Uninst()
{
zenity --question  --icon-name=duett --timeout 10 --text="Vil du fjærne alle spor av Duett? \n Dette inkluderer:\n -Snarevegar \n-Sertifikat \n-Systeminnstillingar \n-Programvare \n-Påloggingsinformasjon" --ok-label="Avinstaller" --cancel-label="Avbryt"
if [ $? = 0 ] ; then
D_brukardata
else
echo "avbryt"
fi
exit 0
}
D_Nullstill()
{
zenity --question  --icon-name=duett --text="Vil du fjerne den lagra påloggingsinformasjonen for Duett frå denne PC'n?\nNy påloggingsinformasjon blir oppretta ved neste pålogging" --ok-label="Nullstill" --cancel-label="Avbryt"
if [ $? = 0 ] ; then
rm ~/.duett.user
fi
exit 0
}

D_brukardata() 
{
sudokommando='echo "jaja"'
if [ ${#utgang} -ge 1 ];
 then
  sudo echo "jaja"
 else
  utgang=$(zenity --password --icon-name=duett --title="Skriv inn root-passord" | sudo -S $sudokommando)
fi
UHOME="/home"
_USERS="$(awk -F':' '{ if ( $3 >= 500 ) print $1 }' /etc/passwd)"
for u in $_USERS
 do
 sleep 0.1
  goalen="${UHOME}/${u}/.duett.user"
  sudo rm -rf $goalen
done

sudo find /usr/ -name "*duett*" -exec rm -f {} \;
sudo find /usr/ -name "*Duett*" -exec rm -f {} \;
sudo rm -rf /usr/share/duettonline
sudo rm /etc/bash_completion.d/*uet*
sudo update-icon-caches /usr/share/app-install/icons/*
sudo update-icon-caches /usr/share/icons/*
UHOME="/home"
_USERS="$(awk -F':' '{ if ( $3 >= 500 ) print $1 }' /etc/passwd)"
i=0
for u in $_USERS
 do 
 i=$((i+1))
 echo $i
  goalen="${UHOME}/${u}/.config/freerdp/"
 sudo sed -i '/onett.local/d' $goalen/known_hosts2
  sleep 0.1
  if ! [ -s $goalen/known_hosts2 ] ;
   then
    i=$((i-1))
    sudo rm -rf $goalen
    echo $i "loop"
  fi
done
if ! [ $i -gt 0 ] ;
 then
  zenity --question  --icon-name=duett --text="Der er ingen andre tenester enn Duett som bruker xFree RDP \n Vil du avinstallere denne programpakken?" --ok-label="Avinstaller" --cancel-label="Avbryt"
  if [ $? = 0 ] ;
   then
    D_program
   else
    notify-send -i  duett 'Duettpålogging for Linux' 'Avinstallasjon ferdig'
  fi
 else
  echo $i
fi
}

D_program() 
{
sudo apt-get update
notify-send -i  duett 'Duettpålogging for Linux' 'Sjekker PPA'
sudo apt-get -y --purge remove remmina freerdp-x11 remmina-plugin-rdp
notify-send -i  duett 'Duettpålogging for Linux' 'Sjekker PPA'
sudo apt-get -y --purge autoremove
find /etc/apt/ -name "*remmina*" | sudo xargs rm
sudo sed -i '/remmina/d' /etc/apt/sources.list
sudo apt-get update
## For alle brukrkonti
notify-send -i  duett 'Duettpålogging for Linux' 'Avinstallasjon ferdig'
}
D_Store()
{
nettside="false"
if [ ! -f  /usr/share/duettonline/*duett*.rdp ];
 then
  if [ -f  ~/Nedlast*/*DUETT*.rdp ];
   then
   cd  ~/Nedlast*
   if [ ${#utgang} -ge 1 ];
 then
  sudo mv *DUETT*.rdp  /usr/share/duettonline/duett.rdp -T
 else
  utgang=$(zenity --password --title="Skriv inn root-passord" | sudo -S mv *DUETT*.rdp  /usr/share/duettonline/duett.rdp -T)
 fi
   else
   duettfil=`zenity --file-selection --file-filter=*DUETT*.rdp --title="Velg .rdp-fila som du lasta ned for 'Duett'"`
   case $? in
         0)
                D_Store
                ;;
         1)
                nettside="true"
                ;;
        -1)
                notify-send -i  duett 'Duettpålogging for Linux' "Ein uventa feil oppstod [LS01]."
                ;;
   esac
  fi
fi
if [ ! -f  /usr/share/duettonline/*remote*.rdp ];
 then
  if [ -f  ~/Nedlast*/*MAC*.rdp ];
   then
   cd  ~/Nedlast*
   if [ ${#utgang} -ge 1 ];
 then
   sudo mv *MAC*.rdp  /usr/share/duettonline/remote.rdp -T
 else
  utgang=$(zenity --password --title="Skriv inn root-passord" | sudo -S mv *MAC*.rdp  /usr/share/duettonline/remote.rdp -T)
 fi
    sudo mv *MAC*.rdp  /usr/share/duettonline/remote.rdp -T
   else
      macfil=`zenity --file-selection --file-filter=*MAC*.rdp --title="Velg .rdp-fila som du lasta ned for 'Duett for MAC'"`
   case $? in
         0)
                D_Store
                ;;
         1)
                nettside="true"
                ;;
        -1)
                notify-send -i  duett 'Duettpålogging for Linux' "Ein uventa feil oppstod [LS01]."
                ;;
   esac
  fi
fi
if [ ! -f  /usr/share/duettonline/*explor*.rdp ];
 then
  if [ -f  ~/Nedlast*/*explor*.rdp ];
   then
    cd  ~/Nedlast*
    if [ ${#utgang} -ge 1 ];
 then
   sudo mv *explor*.rdp  /usr/share/duettonline/explorer.rdp -T
 else
  utgang=$(zenity --password --title="Skriv inn root-passord" | sudo -S mv *explor*.rdp  /usr/share/duettonline/explorer.rdp -T)
 fi
   else
   explorfil=`zenity --file-selection --file-filter=*explorer*.rdp --title="Velg .rdp-fila som du lasta ned for 'Filer skrivere'"`
   case $? in
         0)
                D_Store
                ;;
         1)
                nettside="true"
                ;;
        -1)
                notify-send -i  duett 'Duettpålogging for Linux' "Ein uventa feil oppstod [LS01]."
                ;;
   esac
  fi
fi
                notify-send -i  duett 'Duettpålogging for Linux' "Oppdatering av .rdp er ferdig."
}
D_Forebu()
{
D_filsjekk
D_brukarsjekk
D_passordsjekk
D_printersjekk
}
D_filsjekk() 
{
if ! [ -f ~/.duett.user ];
 then
echo "[DUETT BRUKERDATA]" >> ~/.duett.user
echo " /u:" >> ~/.duett.user
echo " /p:" >> ~/.duett.user
echo " /printer:" >> ~/.duett.user
echo " /smart-sizing:" >> ~/.duett.user
echo "#" >> ~/.duett.user
echo "## Denne fila inneheld påloggingsinformasjon plassert i denne rekkefølga" >> ~/.duett.user
echo "## Brukarnamn" >> ~/.duett.user
echo "## Passord" >> ~/.duett.user
echo "## Vald Skrivar for bruk i Duett" >> ~/.duett.user
echo "## Oppløysing/ storleik på skjerm" >> ~/.duett.user
echo "#" >> ~/.duett.user
echo "## OBS: Ver varsam ved redigering av denne fila" >> ~/.duett.user
echo "## Det kan skade pålogginga di" >> ~/.duett.user
echo "## For ytterligare informasjon, Åpne Terminal, og køyr kommandoen xfreerdp"

fi
}
D_brukarsjekk()
{
if ! [ $(grep ' /u:' ~/.duett.user) ]; then
echo  ' /u:' >> ~/.duett.user
fi
 brukar=$(grep ' /u:' ~/.duett.user)
   if [ ${#brukar} -lt 5 ]; #opplysning eksisterer 
    then
    D_addbrukar
   fi
}
D_passordsjekk() 
{
if ! [ $(grep ' /p:' ~/.duett.user) ]; then
echo  ' /p:' >> ~/.duett.user
fi
 passord=$(grep ' /p:' ~/.duett.user)
   if [ ${#passord} -lt 5 ]; #opplysning eksisterer 
    then
     D_addbrukar
   fi
}
D_addbrukar() 
{
 ENTRY=`zenity  --icon-name=duett --password="Passord" --username="Brukarnamn" --title="Duett kontoopplysning"`
  case $? in
         0)
	 	duettbrukar=$(echo $ENTRY | cut -d'|' -f1)
	 	brukar=' /u:'$(echo $duettbrukar | cut -d'\' -f2)
	 	passord=' /p:'$(echo $ENTRY | cut -d'|' -f2)
		;;
         1)
                 notify-send -i  duett 'Duettpålogging for Linux Manglar brukaropplysning' 'Dette er påkrevd for innlogging'
                exit
                ;;
        -1)
                notify-send -i duett 'Duettpålogging for Linux er avslutta' 'Systemfeil rundt brukerdata [LB01]'
                ;;
  esac
 if [ ${#passord} -lt 5 ];
 then
 notify-send -i duett 'Duettpålogging for Linux Manglar brukaropplysning' 'Dette er påkrevd for innlogging'
  sleep 1
  D_addbrukar
 fi        
 if [ ${#brukar} -lt 5 ];
 then
 notify-send -i  duett 'Duettpålogging for Linux Manglar brukaropplysning' 'Dette er påkrevd for innlogging'
  sleep 1
  D_addbrukar
 fi
     tu=$(grep " /u:" ~/.duett.user)
     sed -i "s@$tu@$brukar@" ~/.duett.user
     tp=$(grep " /p:" ~/.duett.user)
     sed -i "s@$tp@$passord@" ~/.duett.user
}
D_addprinter()
{
 if [ -f /etc/cups/printers.conf ];
  then
  D_prs
  else
  D_pri
fi
}
D_printersjekk()
{
if ! [ $(grep ' /printer:' ~/.duett.user) ]; then
echo  ' /printer:' >> ~/.duett.user
fi
 printer=$(grep ' /printer:' ~/.duett.user)
 if [ ${#printer} -lt 11 ]; #opplysning eksisterer 
  then
   D_addprinter
   printer=$prnew
  else
   if [ ${#printer} -lt 14 ]; #opplysning eksisterer 
    then
     printer=""
   fi
 fi
}
D_pri() 
{
   notify-send -i duett 'Duettpålogging for Linux' 'Venligst installer ein skrivar'
   skalet=$(echo $DESKTOP_SESSION)'-control-center printers'
   if ! [ -f /etc/cups/printers.conf ];
    then
    zenity --question  --icon-name=duett --title="Duettpålogging for Linux" --text="Vil du halde fram utan å installere ein skrivar?" --ok-label="Ja" --cancel-label="Nei"
     if [ $? = 0 ] ; 
      then
       printer=" /printer:nei"
       sed -i "s@$(grep " /printer" ~/.duett.user)@$printer@" ~/.duett.user
       notify-send -i duett 'Duettpålogging for Linux' 'Ingen skrivar er veld'
      else
       zenity --question  --icon-name=duett --title="Duettpålogging for Linux" --text="Vil du avslutte installasjonen av nye skrivarar?" --ok-label="Ja" --cancel-label="Nei"
       if [ $? = 0 ] ;
        then
         notify-send -i duett 'Duettpålogging for Linux' 'Installasjonen av skrivar er avbrutt'
         exit 0
        else
         D_pri
       fi
     fi
   fi
}
D_prs() 
{
   st=' /printer:'
   printe=$(lpstat -a | awk '{print $1}')
   ut=$(zenity --entry --title="tittel" --text="Skriv inn namnet på den skrivaren du vil bruke"  --ok-label="Velg" --cancel-label="Nullstill" --entry-text=$printe --)
   length=`echo $ut | wc -c`
   length=`echo $length - 1 |bc`
   if [ $length -lt 2 ] ;
   then
   zenity --question  --icon-name=duett --title="Duettpålogging for Linux" --text="Vil du halde fram utan ein skrivar?" --ok-label="Ja" --cancel-label="Nei"
       if [ $? = 0 ] ;
        then
        prnew=" /printer:nei"
         notify-send -i duett 'Duettpålogging for Linux' 'Ingen skrivar er veld'
        else
         D_prs
       fi
   else
   prnew=$st$ut
   notify-send -i duett "Duettpålogging for Linux" "$ut er valgt som standard skrivar"
   fi
   sed -i "s@$(grep " /printer" ~/.duett.user)@$prnew@" ~/.duett.user
}
D_Meny()
{
notify-send -i  duett 'Duettpålogging for Linux' 'Meny kjem snart '$DU_VERSJON
}


LSM_CMD="echo No LSM. >> \"\$archname\""
while true
do
    case "$1" in
    -m | -meny )
	D_Meny
	exit 0
	;;
    -v | -versjon )
	echo $DU_VERSJON
	exit 0
	;;
     -e | -eksternt )
	D_Eksternt
	exit 0
	;;
    -o | -oppdater )
	D_update
	exit 0
	;;
    -u | -utforsk )
	D_Fil
	exit 0
	;;
    -l | -lokalt )
	D_Lokalt
	exit 0
	;;
    -b | -brukar )
	D_User
	exit 0
	;;
    -p | -printer )
	D_Print
	exit 0
	;;
    -r | -rediger-user )
	D_EditUser
	exit 0
	;;
    -avinstaller )
	D_Uninst
	exit 0
	;;
    -n | -nullstill )
	D_Nullstill
	exit 0
	;;
    -s | -skjerm )
	D_Skjerm
	exit 0
	;;
    -h | -hjelp)
	D_Hjelp
	exit 0
	;;
    -help)
	D_Hjelp
	exit 0
	;;
    -*)
echo Unrecognized flag : "$1"
echo "OBS."
echo "Har du gløymt ei av desse syntaksane, eller berre skrive feil?"
echo "Skriv eksempelsvis 'duett -h' eller 'duett -hjelp'"
echo ""
echo "-m | -meny		-Menypanel med klikkbare val"
echo "-v | -versjon		-Skriv ut versjonsnr av Duettpålogging for Linux $DU_VERSJON"
echo "-h | -hjelp		-Utskrift av denne guide"
echo "-s | -skjerm		-Endring/sett oppløysing for Eksternt skrivebord på"
echo "			  Duett-server"
echo "-l | -lokalt 		-Pålogging med Duett som lokalt skjermbilete"
echo "-e | -eksternt		-Pålogging til Eksternt Skrivebord på Duett-server"
echo "-u | -utforsk		-Fil- og skrivarhandsaming på Duett server"
echo "-b | -brukar		-Endre påloggingsinformasjon"
echo "-p | -printer		-Endre val av skrivar som skal bli knytt til Duett"
echo "-n | -nullstill		-Slett påloggingsinformasjon lagra i fila ~/.duett.user"
echo "-r | -rediger-user	-Redigere fila ~/.duett.user"
echo "-o | -oppdater		-Oppdater med ny rdp-fil og sertifikat for pålogging"
echo "-avinstaller		-Avinstaller Duettpålogging for Linux"
echo ""
echo "Tips:"
echo "Om du i terminal skriv delar av kommandoen, kan du fullføre ved å trykke [TAB]"
echo "Desse kan du bruke både som kommandoar når du opprettar ein snareveg,"
echo "eller direkte her i terminalvindauget"
	break
	;;
    *)
echo "OBS."
echo "Har du gløymt ei av desse syntaksane, eller berre skrive feil?"
echo "Skriv eksempelsvis 'duett -h' eller 'duett -hjelp'"
echo ""
echo "-v | -versjon		-Skriv ut versjonsnr av Duettpålogging for Linux $DU_VERSJON"
echo "-h | -hjelp		-Utskrift av denne guide"
echo "-s | -skjerm		-Endring/sett oppløysing for Eksternt skrivebord på"
echo "			  Duett-server"
echo "-l | -lokalt 		-Pålogging med Duett som lokalt skjermbilete"
echo "-e | -eksternt		-Pålogging til Eksternt Skrivebord på Duett-server"
echo "-u | -utforsk		-Fil- og skrivarhandsaming på Duett server"
echo "-b | -brukar		-Endre påloggingsinformasjon"
echo "-p | -printer		-Endre val av skrivar som skal bli knytt til Duett"
echo "-n | -nullstill		-Slett påloggingsinformasjon lagra i fila ~/.duett.user"
echo "-r | -rediger-user	-Redigere fila ~/.duett.user"
echo "-o | -oppdater		-Oppdater med ny rdp-fil og sertifikat for pålogging"
echo "-avinstaller		-Avinstaller Duettpålogging for Linux"
echo ""
echo "Tips:"
echo "Om du i terminal skriv delar av kommandoen, kan du fullføre ved å trykke [TAB]"
echo "Desse kan du bruke både som kommandoar når du opprettar ein snareveg,"
echo "eller direkte her i terminalvindauget"
	break
	;;
    esac
done

